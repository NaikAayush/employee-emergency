{"version":3,"sources":["./src/app/test/beacon/beacon.component.scss","./src/app/test/test.page.ts","./src/app/test/beacon/beacon.component.html","./src/app/test/test.module.ts","./src/app/test/wifi/wifi.component.ts","./src/app/test/test-routing.module.ts","./src/app/test/wifi/wifi.component.scss","./src/app/test/wifi/wifi.component.html","./src/app/test/test.page.html","./src/app/test/beacon/beacon.component.ts","./src/app/test/test.page.scss"],"names":[],"mappings":"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","file":"test-test-module.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJiZWFjb24uY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-test',\n  templateUrl: './test.page.html',\n  styleUrls: ['./test.page.scss'],\n})\nexport class TestPage implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \"<p>\\n  beacon works!\\n</p>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TestPageRoutingModule } from './test-routing.module';\n\nimport { TestPage } from './test.page';\nimport { BeaconComponent } from './beacon/beacon.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, TestPageRoutingModule],\n  declarations: [TestPage, BeaconComponent],\n})\nexport class TestPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {\n  WifiScanResultsOptions,\n  WifiWizard2,\n} from '@ionic-native/wifi-wizard-2/ngx';\nimport { interval } from 'rxjs';\n@Component({\n  selector: 'app-wifi',\n  templateUrl: './wifi.component.html',\n  styleUrls: ['./wifi.component.scss'],\n})\nexport class WifiComponent implements OnInit {\n  options: WifiScanResultsOptions;\n  constructor(private wifiWizard2: WifiWizard2) {\n    interval(1000).subscribe((x) => {\n      this.startWifiScan();\n    });\n  }\n\n  ngOnInit() {}\n  async startWifiScan() {\n    // const SSID = await this.wifiWizard2.getConnectedSSID();\n    // console.log(SSID);\n    // const BSSID = await this.wifiWizard2.getConnectedBSSID();\n    // console.log(BSSID);\n    const scan = await this.wifiWizard2.scan();\n    console.log(scan);\n    const x = await this.wifiWizard2.getScanResults(this.options);\n    console.log(x);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BeaconComponent } from './beacon/beacon.component';\n\nimport { TestPage } from './test.page';\nimport { WifiComponent } from './wifi/wifi.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TestPage,\n  },\n  {\n    path: 'beacon',\n    component: BeaconComponent,\n  },\n  {\n    path: 'wifi',\n    component: WifiComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TestPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3aWZpLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"<p>\\n  wifi works!\\n</p>\\n\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>test</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { IBeacon, IBeaconPluginResult } from '@ionic-native/ibeacon/ngx';\nimport { Platform } from '@ionic/angular';\n\n@Component({\n  selector: 'app-beacon',\n  templateUrl: './beacon.component.html',\n  styleUrls: ['./beacon.component.scss'],\n})\nexport class BeaconComponent {\n  uuid = '74278bda-b644-4520-8f0c-720eaf059935';\n  // uuid = '06f5959f-d546-7399-9f41-43001325cc5b';\n  beaconData = [];\n  beaconUuid: String;\n  scanStatus: boolean = false;\n  private delegate: any = null;\n  public beaconRegion: any = null;\n  public iosDevice: boolean = false;\n\n  constructor(\n    private readonly ibeacon: IBeacon,\n    private readonly platform: Platform,\n    private changeRef: ChangeDetectorRef\n  ) {\n    this.platform.ready().then(() => {\n      this.requestLocPermissoin();\n      this.enableDebugLogs();\n    });\n    this.startScanning();\n  }\n\n  ngOnInit() {\n    if (!this.platform.is('ios')) {\n      this.iosDevice = true;\n    }\n  }\n\n  requestLocPermissoin(): void {\n    // Request permission to use location on iOS\n    if (this.platform.is('ios')) {\n      this.ibeacon.requestAlwaysAuthorization();\n      console.log(`: request ios permisson`);\n    }\n  }\n\n  enableDebugLogs(): void {\n    this.ibeacon.enableDebugLogs();\n    this.ibeacon.enableDebugNotifications();\n  }\n\n  public onScanClicked(): void {\n    if (!this.scanStatus) {\n      this.startScanning();\n      this.scanStatus = true;\n    } else {\n      this.scanStatus = false;\n      this.stopScannning();\n    }\n  }\n\n  public stopScannning(): void {\n    // stop ranging\n    this.ibeacon\n      .stopRangingBeaconsInRegion(this.beaconRegion)\n      .then(async () => {\n        console.log(`Stopped ranging beacon region:`, this.beaconRegion);\n      })\n      .catch((error: any) => {\n        console.log(\n          `Failed to stop ranging beacon region: `,\n          this.beaconRegion\n        );\n      });\n  }\n\n  startScanning() {\n    // create a new delegate and register it with the native layer\n    this.delegate = this.ibeacon.Delegate();\n\n    this.ibeacon.setDelegate(this.delegate);\n\n    this.beaconUuid = this.uuid;\n\n    console.log(\n      '--===--- Bluetooth state: ',\n      this.ibeacon.isBluetoothEnabled()\n    );\n\n    // Check bluetooth status Y.Q\n    this.ibeacon.isBluetoothEnabled().then(\n      (data) => console.log('-------=== Enabled', data),\n      (error: any) => console.error('-------=== Disabled', error)\n    );\n\n    // Subscribe to some of the delegate's event handlers\n    this.delegate.didRangeBeaconsInRegion().subscribe(\n      async (pluginResult: IBeaconPluginResult) => {\n        console.log('didRangeBeaconsInRegion: ', pluginResult);\n        console.log('found beacons size: ' + pluginResult.beacons.length);\n        if (pluginResult.beacons.length > 0) {\n          this.beaconData = pluginResult.beacons;\n          this.changeRef.detectChanges(); // Check for data change to update view Y.Q\n        } else {\n          console.log('no beacons nearby');\n        }\n      },\n      (error: any) => console.error(`Failure during ranging: `, error)\n    );\n\n    this.delegate.didStartMonitoringForRegion().subscribe(\n      (pluginResult: IBeaconPluginResult) =>\n        console.log('didStartMonitoringForRegion: ', pluginResult),\n      (error: any) =>\n        console.error(`Failure during starting of monitoring: `, error)\n    );\n\n    console.log(`Creating BeaconRegion with UUID of: `, this.uuid);\n\n    // uuid is required, identifier and range are optional.\n    this.beaconRegion = this.ibeacon.BeaconRegion('EST3', this.uuid);\n\n    this.ibeacon.startMonitoringForRegion(this.beaconRegion).then(\n      () => console.log('Native layer recieved the request to monitoring'),\n      (error: any) =>\n        console.error('Native layer failed to begin monitoring: ', error)\n    );\n\n    this.ibeacon\n      .startRangingBeaconsInRegion(this.beaconRegion)\n      .then(() => {\n        console.log(`Started ranging beacon region: `, this.beaconRegion);\n      })\n      .catch((error: any) => {\n        console.error(\n          `Failed to start ranging beacon region: `,\n          this.beaconRegion\n        );\n      });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0ZXN0LnBhZ2Uuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}